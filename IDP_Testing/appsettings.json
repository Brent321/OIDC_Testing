{
  "ConnectionStrings": {
    // LocalDB connection string for development. Update for production environments.
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=IDP_Testing;Trusted_Connection=True;MultipleActiveResultSets=true"
  },

  // =============================================================================
  // AUTHENTICATION MODE
  // =============================================================================
  // Determines which authentication protocol to use.
  // Options: "OIDC" (OpenID Connect), "SAML", "WsFederation"
  "Authentication": {
    "Mode": "SAML"
  },

  // =============================================================================
  // KEYCLOAK (OIDC) CONFIGURATION
  // =============================================================================
  // OpenID Connect settings for Keycloak identity provider.
  // Only used when Authentication.Mode is set to "OIDC".
  "Keycloak": {
    // Base URL of the Keycloak realm that handles authentication
    "Authority": "http://localhost:8080/realms/blazor-dev",
    
    // URL to the OpenID Connect discovery document (metadata endpoint)
    "MetadataAddress": "http://localhost:8080/realms/blazor-dev/.well-known/openid-configuration",
    
    // Client ID registered in Keycloak for this application
    "ClientId": "blazor-app",
    
    // Client secret (if using confidential client). Leave empty for public clients.
    "ClientSecret": "blazor-app-secret",
    
    // Whether to enforce HTTPS for metadata retrieval. Set to false for local development.
    "RequireHttpsMetadata": false,
    
    // Path where Keycloak will redirect after successful authentication
    "CallbackPath": "/signin-oidc",
    
    // URL where user is redirected after logout from Keycloak
    "PostLogoutRedirectUri": "https://localhost:7235/logged-out"
  },

  // =============================================================================
  // SAML2 CONFIGURATION
  // =============================================================================
  // SAML 2.0 settings for SAML-based identity providers.
  // Only used when Authentication.Mode is set to "SAML2".
  "Saml2": {
    // The unique identifier (Entity ID) for this application (Service Provider)
    "EntityId": "https://localhost:7235",
    
    // The unique identifier (Entity ID) of the SAML Identity Provider
    "IdpEntityId": "http://localhost:8080/realms/blazor-dev",
    
    // URL to the Identity Provider's SAML metadata document
    "IdpMetadataUrl": "http://localhost:8080/realms/blazor-dev/protocol/saml/descriptor",
    
    // Single Sign-On service endpoint URL on the Identity Provider
    "IdpSingleSignOnUrl": "http://localhost:8080/realms/blazor-dev/protocol/saml",
    
    // Single Logout service endpoint URL on the Identity Provider
    "IdpSingleLogoutUrl": "http://localhost:8080/realms/blazor-dev/protocol/saml",
    
    // Path to the certificate file used to sign SAML requests (optional)
    "SigningCertificatePath": "",
    
    // Password for the signing certificate (if encrypted)
    "SigningCertificatePassword": "",
    
    // Whether to allow unsolicited SAML responses (IDP-initiated login)
    "AllowUnsolicitedAuthnResponse": true
  },

  // =============================================================================
  // WS-FEDERATION CONFIGURATION
  // =============================================================================
  // WS-Federation settings for enterprise identity providers (e.g., Azure AD, ADFS).
  // Only used when Authentication.Mode is set to "WsFederation".
  "WsFederation": {
    // URL to the WS-Federation metadata document
    "MetadataAddress": "",
    
    // The WS-Federation realm identifier (usually the application's identifier URI)
    "Wtrealm": "api://1f0c944e-fa13-46fb-842e-0dc6c6843abc",
    
    // The base URL of the federation authority (e.g., STS endpoint)
    "Authority": "",
    
    // Path where the identity provider will redirect after authentication
    "CallbackPath": "/signin-wsfed",
    
    // Path for remote sign-out requests from the identity provider
    "RemoteSignOutPath": "/signout-wsfed",
    
    // URL where user is redirected after logout
    "PostLogoutRedirectUri": "https://localhost:7235",
    
    // Whether to enforce HTTPS for metadata retrieval
    "RequireHttpsMetadata": true,
    
    // Whether to save authentication tokens in the authentication properties
    "SaveTokens": true
  },

  // =============================================================================
  // LOGGING CONFIGURATION
  // =============================================================================
  // Controls log levels for different parts of the application.
  "Logging": {
    "LogLevel": {
      // Default log level for all categories not explicitly configured
      "Default": "Information",
      
      // Reduce ASP.NET Core framework logs to avoid noise in development
      "Microsoft.AspNetCore": "Warning"
    }
  },

  // =============================================================================
  // ALLOWED HOSTS
  // =============================================================================
  // Semicolon-delimited list of host names without port numbers that are allowed
  // for the application. Use "*" to allow all hosts (not recommended for production).
  "AllowedHosts": "*",

  // =============================================================================
  // REACT FRONTEND CONFIGURATION
  // =============================================================================
  "React": {
    // Determines how React frontend is served in development mode.
    // In production, this setting has no effect (always serves static files).
    //
    // true:  Starts Vite development server with hot module replacement (HMR).
    //        Changes to React code are reflected immediately without rebuild.
    //        React app runs on http://localhost:5173 and is proxied via YARP.
    //
    // false: Serves pre-built static files from wwwroot/react.
    //        You must manually run "npm run build" in the react-front-end folder
    //        whenever you make changes to React code.
    "UseDevelopmentServer": true
  }
}
